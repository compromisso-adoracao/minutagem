"use strict";var Minutagem={timeSignatures:[{formula:"2x4",tempoCount:2},{formula:"3x4",tempoCount:3},{formula:"4x4",tempoCount:4},{formula:"6x4",tempoCount:6},{formula:"3x8",tempoCount:1},{formula:"6x8",tempoCount:2},{formula:"9x8",tempoCount:3},{formula:"12x8",tempoCount:4}],calculate:function calculate(a,b,c){return beatInSeconds=60/a,totalTempoCount=b.tempoCount*c,Math.round(beatInSeconds*totalTempoCount)}};String.prototype.toHHMMSS=function(){var a=parseInt(this,10),b=Math.floor(a/3600),c=Math.floor((a-3600*b)/60),d=a-3600*b-60*c;return 10>b&&(b="0"+b),10>c&&(c="0"+c),10>d&&(d="0"+d),b+":"+c+":"+d};var populateTimeSignatureOptions=function(){var a=document.querySelector("#signature-formula");Minutagem.timeSignatures.forEach(function(b){var c=document.createElement("option");c.value=b.formula,c.innerHTML=b.formula,a.appendChild(c)})},controlValidationError=function(a){a?document.querySelector("#validation-error").classList.add("d-none"):document.querySelector("#validation-error").classList.remove("d-none")},controlResult=function(a,b){a?document.querySelector("#result").classList.add("d-none"):document.querySelector("#result").classList.remove("d-none"),document.querySelector("#result").innerHTML="A m\xFAsica tem "+b},calculateMinutagem=function(){var a=document.querySelector("#bpm").value,b=document.querySelector("#signature-formula").value,c=document.querySelector("#bar-count").value;if(!a||isNaN(a))return null;if(!b)return null;if(!c||isNaN(c))return null;var d=Minutagem.timeSignatures.find(function(e){return e.formula===b});return d?Minutagem.calculate(a,d,c):null};window.onload=function(){controlValidationError(!0),controlResult(!0),populateTimeSignatureOptions(),document.querySelector("#calculate-button").addEventListener("click",function(){controlResult(!0),controlValidationError(!0);var a=calculateMinutagem();a?controlResult(!1,value=a.toString().toHHMMSS()):controlValidationError(!1)})};
